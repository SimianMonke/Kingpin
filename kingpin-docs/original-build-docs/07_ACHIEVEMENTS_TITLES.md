# 07. ACHIEVEMENTS & TITLES SYSTEM

---

## OVERVIEW

Achievements provide long-term goals and recognize player accomplishments. Completing achievements unlocks titles that display next to player names in chat, creating social prestige.

---

## ACHIEVEMENT TIERS

| Tier | Color | Difficulty | Typical Rewards |
|------|-------|------------|-----------------|
| Bronze | ü•â | Easy | $500-$2,000 + 50-100 XP |
| Silver | ü•à | Medium | $2,000-$10,000 + 200-500 XP |
| Gold | ü•á | Hard | $10,000-$50,000 + 500-2,000 XP |
| Platinum | üíé | Very Hard | $50,000-$200,000 + 2,000-5,000 XP + Title |
| Legendary | üëë | Extreme | $200,000+ + 10,000+ XP + Exclusive Title |

---

## ACHIEVEMENT CATEGORIES

### 1. Wealth Achievements

| Achievement | Tier | Requirement | Rewards |
|-------------|------|-------------|---------|
| First Score | Bronze | Earn $1,000 total | $500, 50 XP |
| Getting Started | Bronze | Earn $10,000 total | $1,000, 100 XP |
| Money Maker | Silver | Earn $100,000 total | $5,000, 300 XP |
| Six Figures | Silver | Earn $500,000 total | $10,000, 500 XP |
| Millionaire | Gold | Earn $1,000,000 total | $25,000, 1,000 XP |
| Multi-Millionaire | Gold | Earn $5,000,000 total | $50,000, 2,000 XP |
| Tycoon | Platinum | Earn $10,000,000 total | $100,000, 5,000 XP, Title: "Tycoon" |
| Lazarus Legend | Legendary | Earn $50,000,000 total | $500,000, 20,000 XP, Title: "Lazarus Legend" |

### 2. Combat Achievements

| Achievement | Tier | Requirement | Rewards |
|-------------|------|-------------|---------|
| First Blood | Bronze | Win 1 rob | $500, 50 XP |
| Street Fighter | Bronze | Win 10 robs | $2,000, 150 XP |
| Enforcer | Silver | Win 50 robs | $10,000, 500 XP |
| Crime Lord | Gold | Win 100 robs | $25,000, 1,000 XP |
| Master Thief | Platinum | Win 500 robs | $100,000, 5,000 XP, Title: "Master Thief" |
| Untouchable | Gold | Successfully defend 50 robs | $25,000, 1,000 XP |
| Fortress | Platinum | Successfully defend 200 robs | $75,000, 3,000 XP, Title: "Fortress" |
| Win Streak 5 | Silver | Win 5 robs in a row | $5,000, 300 XP |
| Win Streak 10 | Gold | Win 10 robs in a row | $20,000, 1,000 XP |

### 3. Loyalty Achievements (Check-in)

| Achievement | Tier | Requirement | Rewards |
|-------------|------|-------------|---------|
| Regular | Bronze | 7-day check-in streak | $1,000, 100 XP |
| Dedicated | Silver | 14-day check-in streak | $3,000, 300 XP |
| Committed | Silver | 30-day check-in streak | $10,000, 500 XP |
| Devoted | Gold | 60-day check-in streak | $25,000, 1,500 XP |
| Fanatic | Platinum | 100-day check-in streak | $75,000, 5,000 XP, Title: "Devoted" |
| Immortal | Legendary | 365-day check-in streak | $500,000, 25,000 XP, Title: "Immortal" |

### 4. Progression Achievements

| Achievement | Tier | Requirement | Rewards |
|-------------|------|-------------|---------|
| Rookie No More | Bronze | Reach Level 10 | $1,000, 100 XP |
| Rising Star | Silver | Reach Level 20 (Associate) | $5,000, 500 XP |
| Soldier Up | Silver | Reach Level 40 (Soldier) | $15,000, 1,000 XP |
| Captain's Rank | Gold | Reach Level 60 (Captain) | $30,000, 2,000 XP |
| Right Hand | Gold | Reach Level 80 (Underboss) | $50,000, 3,000 XP |
| The Kingpin | Legendary | Reach Level 100 (Kingpin) | $250,000, 15,000 XP, Title: "The Kingpin" |

### 5. Activity Achievements

| Achievement | Tier | Requirement | Rewards |
|-------------|------|-------------|---------|
| Getting Active | Bronze | 50 !play commands | $500, 50 XP |
| Busy Bee | Bronze | 250 !play commands | $2,000, 200 XP |
| Workaholic | Silver | 1,000 !play commands | $10,000, 750 XP |
| No Rest | Gold | 5,000 !play commands | $50,000, 3,000 XP |
| Machine | Platinum | 10,000 !play commands | $150,000, 10,000 XP, Title: "Machine" |
| Business Minded | Bronze | Collect business revenue 50 times | $2,000, 150 XP |
| Entrepreneur | Silver | Collect business revenue 500 times | $15,000, 1,000 XP |

### 6. Social Achievements

| Achievement | Tier | Requirement | Rewards |
|-------------|------|-------------|---------|
| Chatterbox | Bronze | Send 1,000 messages | $1,000, 100 XP |
| Social Butterfly | Silver | Send 10,000 messages | $5,000, 500 XP |
| Voice of Lazarus | Gold | Send 50,000 messages | $25,000, 2,000 XP |
| Legend | Platinum | Send 100,000 messages | $100,000, 10,000 XP, Title: "Legend" |

### 7. Faction Achievements

| Achievement | Tier | Requirement | Rewards |
|-------------|------|-------------|---------|
| Enlisted | Bronze | Join a faction | $1,000, 100 XP |
| Loyalist | Silver | Stay in faction for 30 days | $10,000, 500 XP |
| Territory Fighter | Silver | Participate in 10 territory captures | $15,000, 750 XP |
| Warlord | Gold | Participate in 50 territory captures | $50,000, 2,500 XP |
| Faction Champion | Platinum | Be top contributor when faction wins week | $100,000, 5,000 XP, Title: "Champion" |

### 8. Juicernaut Achievements

| Achievement | Tier | Requirement | Rewards |
|-------------|------|-------------|---------|
| First Crown | Silver | Win 1 Juicernaut session | $10,000, 500 XP |
| Crown Collector | Gold | Win 5 Juicernaut sessions | $50,000, 2,500 XP |
| Juice Lord | Platinum | Win 25 Juicernaut sessions | $200,000, 10,000 XP, Title: "Juice Lord" |
| Unstoppable | Legendary | Win 50 Juicernaut sessions | $500,000, 25,000 XP, Title: "Unstoppable" |
| Big Spender | Silver | Contribute $100 in single session | $10,000, 500 XP |
| Whale | Gold | Contribute $500 in single session | $50,000, 2,500 XP |
| Leviathan | Legendary | Contribute $1,000 in single session | $200,000, 10,000 XP, Title: "Leviathan" |

### 9. Special/Hidden Achievements

| Achievement | Tier | Requirement | Rewards |
|-------------|------|-------------|---------|
| Jailbird | Bronze | Get busted 10 times | $1,000, 100 XP |
| Career Criminal | Silver | Get busted and bail 50 times | $10,000, 500 XP |
| Lucky Find | Silver | Get a Legendary item from crate | $15,000, 750 XP |
| Complete Collection | Platinum | Own one of each item type | $100,000, 5,000 XP |
| OG | Legendary | Be among first 100 players | $100,000, 10,000 XP, Title: "OG" |

---

## TITLE SYSTEM

### Title Display
Titles appear before username in chat:
```
[üèÜ Master Thief] SimianMonke: !play
[üíé Juice Lord] CyberPunk: Nice!
```

### Unlocking Titles
- Earned through Platinum/Legendary achievements
- Some from crate drops (see Crates & Loot)
- Cannot be purchased

### Equipping Titles
- Players can only display ONE title at a time
- Must choose which title to display
- Unequipped titles remain unlocked

### Title Commands
| Command | Description |
|---------|-------------|
| `!titles` | View your unlocked titles |
| `!title <name>` | Equip a specific title |
| `!title none` | Remove displayed title |

---

## ACHIEVEMENT PROGRESS TRACKING

### Progress Update
```javascript
async function updateAchievementProgress(userId, achievementKey, increment = 1) {
    const achievement = await getAchievement(achievementKey);
    
    const result = await db.query(`
        INSERT INTO user_achievements (user_id, achievement_id, current_progress)
        VALUES ($1, $2, $3)
        ON CONFLICT (user_id, achievement_id)
        DO UPDATE SET 
            current_progress = user_achievements.current_progress + $3,
            updated_at = NOW()
        RETURNING *
    `, [userId, achievement.achievement_id, increment]);
    
    // Check for completion
    if (result.rows[0].current_progress >= achievement.requirement_value 
        && !result.rows[0].is_completed) {
        await completeAchievement(userId, achievement);
    }
}
```

### Completion Handler
```javascript
async function completeAchievement(userId, achievement) {
    await db.query('BEGIN');
    
    // Mark complete
    await db.query(`
        UPDATE user_achievements 
        SET is_completed = TRUE, completed_at = NOW()
        WHERE user_id = $1 AND achievement_id = $2
    `, [userId, achievement.achievement_id]);
    
    // Award rewards
    await db.query(`
        UPDATE users SET
            wealth = wealth + $2,
            xp = xp + $3
        WHERE user_id = $1
    `, [userId, achievement.reward_wealth, achievement.reward_xp]);
    
    // Unlock title if applicable
    if (achievement.reward_title) {
        await db.query(`
            INSERT INTO user_titles (user_id, title)
            VALUES ($1, $2)
            ON CONFLICT DO NOTHING
        `, [userId, achievement.reward_title]);
    }
    
    // Award item if applicable
    if (achievement.reward_item_id) {
        await addItemToInventory(userId, achievement.reward_item_id);
    }
    
    await db.query('COMMIT');
    
    // Announce
    await announceAchievement(userId, achievement);
}
```

---

## DATABASE SCHEMA

```sql
CREATE TABLE achievements (
    achievement_id SERIAL PRIMARY KEY,
    achievement_name VARCHAR(200) NOT NULL UNIQUE,
    achievement_key VARCHAR(100) NOT NULL UNIQUE,
    description TEXT NOT NULL,
    
    category VARCHAR(50) NOT NULL,
    tier VARCHAR(50) NOT NULL,
    
    requirement_type VARCHAR(50) NOT NULL,
    requirement_value BIGINT NOT NULL,
    
    reward_wealth INTEGER DEFAULT 0,
    reward_xp INTEGER DEFAULT 0,
    reward_title VARCHAR(100),
    reward_item_id INTEGER REFERENCES items(item_id),
    
    icon_url VARCHAR(500),
    is_hidden BOOLEAN DEFAULT FALSE,
    display_order INTEGER DEFAULT 0,
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE user_achievements (
    user_achievement_id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(user_id) ON DELETE CASCADE,
    achievement_id INTEGER REFERENCES achievements(achievement_id),
    
    current_progress BIGINT DEFAULT 0,
    is_completed BOOLEAN DEFAULT FALSE,
    
    started_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    completed_at TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    UNIQUE(user_id, achievement_id)
);

CREATE TABLE user_titles (
    user_title_id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(user_id) ON DELETE CASCADE,
    title VARCHAR(100) NOT NULL,
    is_equipped BOOLEAN DEFAULT FALSE,
    unlocked_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    UNIQUE(user_id, title)
);

CREATE INDEX idx_achievements_category ON achievements(category);
CREATE INDEX idx_user_achievements_user ON user_achievements(user_id);
CREATE INDEX idx_user_achievements_completed ON user_achievements(user_id, is_completed);
CREATE INDEX idx_user_titles_user ON user_titles(user_id);
CREATE INDEX idx_user_titles_equipped ON user_titles(user_id, is_equipped);
```

---

## CHAT COMMANDS

| Command | Platform | Description |
|---------|----------|-------------|
| `!achievements` | All | View your achievement progress |
| `!achievements @user` | All | View another player's achievements |
| `!titles` | All | View your unlocked titles |
| `!title <name>` | All | Equip a title |
| `!title none` | All | Remove title |

### Achievements Output
```
üèÖ @PlayerName's Achievements (42/90)

üí∞ Wealth: 5/8 complete
  ‚úì First Score | ‚úì Getting Started | ‚úì Money Maker | ‚úì Six Figures | ‚úì Millionaire
  ‚óã Multi-Millionaire (3.2M / 5M)

‚öîÔ∏è Combat: 4/9 complete
  ‚úì First Blood | ‚úì Street Fighter | ‚úì Enforcer | ‚óã Crime Lord (78/100)
  
[View all: kingpin.simianmonke.com/achievements]
```

---

## ANNOUNCEMENTS

### Achievement Unlock (Bronze/Silver)
No public announcement - website notification only.

### Achievement Unlock (Gold)
```
üéâ @PlayerName unlocked achievement: Millionaire!
```

### Achievement Unlock (Platinum)
Chat + Discord Feed:
```
üéâ @PlayerName unlocked achievement: Master Thief!
üè∑Ô∏è Title unlocked: [Master Thief]
```

### Achievement Unlock (Legendary)
Chat + Discord Feed + Admin Webhook:
```
üëë LEGENDARY ACHIEVEMENT! @PlayerName unlocked: The Kingpin!
üè∑Ô∏è Exclusive title unlocked: [The Kingpin]
üí∞ +$250,000 | ‚≠ê +15,000 XP
```

---

## TRIGGER MAPPINGS

| Action | Achievements Updated |
|--------|---------------------|
| Wealth earned | Wealth category |
| Rob success | Combat (wins) |
| Rob defended | Combat (defenses) |
| Check-in | Loyalty (streak) |
| Level up | Progression |
| !play | Activity (play count) |
| Message sent | Social |
| Faction territory captured | Faction |
| Juicernaut win | Juicernaut |
| Bust/bail | Special |
| Crate opened | Special (if legendary) |

---

**END OF DOCUMENT**
